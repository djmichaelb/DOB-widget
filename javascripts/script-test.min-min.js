$(document).ready(function(){var a=function(){var o=31;var e=12;now=new Date();var x=now.getFullYear();var q=now.getMonth();var j=now.getDay();var s=x-111;var u=x-2000;var v=false;var k;var d={n48:0,n49:1,n50:2,n51:3,n52:4,n53:5,n54:6,n55:7,n56:8,n57:9};var r={m01:31,m02:29,m03:31,m04:30,m05:31,m06:30,m07:31,m08:31,m09:30,m10:31,m11:30,m12:31,m13:28};var m={m01:"Jan",m02:"Feb",m03:"Mar",m04:"Apr",m05:"May",m06:"Jun",m07:"Jul",m08:"Aug",m09:"Sep",m10:"Oct",m11:"Nov",m12:"Dec",m13:"Feb"};var t=function(){$(".dob-wrapper").on("focus",function(y){console.log("focussed on dob-wrapper");});$(".dob-wrapper input").each(function(y){$(this).on("focus",function(z){$(this).parent(".dob-wrapper").addClass("focus");$(this).val(i($(this).val(),"strip"));this.selectionStart=this.selectionEnd=this.value.length;k=$(this).attr("id");}).on("blur",function(z){$(this).val(i($(this).val(),$(this).attr("id")));$(this).parent(".dob-wrapper").removeClass("focus");}).on("keydown",function(z){l(this,$(this).attr("id"),z);});$(this).val(i($(this).val()));});};var b=function(y){};var p=function(y){if(!v){v=true;$(".dob .validation").hide().html("<span>"+y+"</span>");$(".dob .validation").fadeIn("fast",function(){$(".dob-wrapper").addClass("error");$(this).delay(2000).fadeOut("fast",function(){$(this).html("");$(".dob-wrapper").removeClass("error");v=false;});});}};var g=function(y){if((parseInt(y)%4)==0){if(parseInt(y)%100==0){if(parseInt(y)%400!=0){return false;}else{return true;}}return true;}else{return false;}};var i=function(z,y){numTestValue=parseInt(z);if(y=="dob-day"||y=="dob-month"||!y){if(z&&(0<numTestValue&&numTestValue<10)){return"0"+numTestValue;}else{if(numTestValue){return numTestValue;}else{return z;}}}else{if(y=="dob-year"){if(!z||z.length>2){return z;}else{switch(true){case (numTestValue<10):return"200"+numTestValue;break;case (numTestValue<=u):return"20"+numTestValue;break;default:return"19"+numTestValue;break;}}}else{if(z&&numTestValue<10){return numTestValue;}else{return z;}}}};var w=function(y,A,z){if(z=="dob-month"&&$(y).val().length<1){$("#dob-day").focus();A.preventDefault();}else{if(z=="dob-year"&&$(y).val().length<1){$("#dob-month").focus();A.preventDefault();}else{return;}}};var f=function(y){month=$("#dob-month").val();year=$("#dob-year").val();y=parseInt(y);if(!month){if(0<y&&y<=o){return true;}else{p("Invalid day");return false;}}else{if(month=="02"&&year){if(g(year)){if(y<=r.m02){return true;}else{p("Invalid - only "+r.m02+" days in "+m.m02+" "+year);return false;}}else{if(y<=r.m02){return true;}else{if(y==29){p("Invalid - only 28 days in "+m.m02+" "+year);return false;}else{p("Invalid day");return false;}}}}else{if(y<=r["m"+month]){return true;}else{p("Invalid - only "+r["m"+month]+" days in "+m["m"+month]+" "+year);return false;}}}};var h=function(y){days=$("#dob-day").val();year=$("#dob-year").val();y=i(String(y),"dob-month");if(!days){return(parseInt(y)<=e)?true:false;}else{if((y=="02"&&!year)||(y=="02"&&g(parseInt(year)))){if(parseInt(days)<=r.m02){return true;
}else{p("There are not "+days+" days in Feb.");return false;}}else{if(y=="02"){if(parseInt(days)>r.m13){p("Feb only has 28 days in "+year);return false;}else{return true;}}else{if(parseInt(days)<=r["m"+y]){return true;}else{p("Invalid month");return false;}}}}};var n=function(y){days=$("#dob-day").val();month=$("#dob-month").val();if(month=="02"&&days=="29"){if(g(y)){return true;}else{p(y+" was not a leap year");return false;}}else{if((parseInt(y)<=s)||(x<parseInt(y))){p("Invalid year");return false;}else{if(parseInt(y)==x){if(parseInt(month)>q){p("Invalid year");return false;}else{if(parseInt(month)==q){if(parseInt(days)>j){p("Invalid year");return false;}}}return true;}else{return true;}}}};var l=function(A,B,C){console.log("inside restrictInput on "+$(A).attr("id"));var y=[8,9,13,35,36,37,39,110,190];var z=y.join(",").match(new RegExp(C.which));if(!C.which||z){if(C.which==8){w(A,C,B);return;}else{return;}}else{if(48<=C.which&&C.which<=57){if(k==$(A).attr("id")){currentInput="";k="";}else{currentInput=$(A).val();}newInput=String(currentInput)+d["n"+C.which];console.log("newInput = "+newInput);c(A,newInput,B);return;}else{if(C.which&&C.which!=16){p("Only numbers allowed");}C.preventDefault();return;}}};var c=function(z,y,A){if(A=="dob-day"){switch(y.length){case 1:if(4<=y&&y<=9){$(z).val(y);$("#dob-month").focus();event.preventDefault();}else{return;}break;case 2:if(f(parseInt(y))){$(z).val(y);$("#dob-month").focus();}event.preventDefault();break;case 3:$(z).val("");break;default:event.preventDefault();break;}return;}else{if(A=="dob-month"){switch(y.length){case 1:if(2<=y&&y<=9){if(h(parseInt(y))){$(z).val(y);$("#dob-year").focus();}event.preventDefault();}else{return;}break;case 2:if(h(parseInt(y))){$(z).val(parseInt(y));$("#dob-year").focus();}event.preventDefault();break;default:event.preventDefault();break;}}else{switch(y.length){case 1:break;case 2:if((parseInt(y)==19)||(parseInt(y)==20)){return;}else{y=i(y,"dob-year");if(n(y)){$(z).val(y);$(z).blur();}event.preventDefault();}break;case 3:break;case 4:if(n(parseInt(y))){$(z).val(parseInt(y));$(z).blur();}event.preventDefault();break;case 5:$(z).val("");break;default:event.preventDefault();break;}}}};t();};if($(".dob-wrapper").length!=0){a();}});